# 開発エントリーポイント

**更新条件**: フェーズ完了・開発計画・次のステップの変更時

**最終更新**: 2025-06-21  
**現在のフェーズ**: フェーズ2.3完了 - 戦略的購買システム確立

> **📖 開発を始める前に**: [DEVELOPMENT_GUIDE.md](./DEVELOPMENT_GUIDE.md) を必ず読んでください

## 現在の開発状況

### ✅ 完了済みフェーズ

#### フェーズ0-4: 基本ゲームループ
- Flask Webアプリケーション基盤
- 買うモード・売るモードの基本機能
- AIオークションシステム
- 商品管理・在庫システム
- ゲーム状態管理

#### リファクタリング: アーキテクチャ分離
- core/api/web層の3層アーキテクチャ実装
- JSON API設計で将来のUI変更に対応

#### フェーズ1: 長期成長保証システム
- ✅ 大ターン・子ターンシステム (8子ターン/大ターン)
- ✅ 価格倍率曲線生成 (基礎システム)
- ✅ ターン進行機能とデバッグページ

#### フェーズ2.3: 戦略的購買システム
- ✅ UFOサイズパラメータ廃止 (年数×距離のシンプル計算)
- ✅ 可変目標倍率システム (1.0～10.0倍)
- ✅ 固定費システム導入 (資産×5%)
- ✅ 価格倍率曲線の正確な実現 (誤差±0.05)
- ✅ 戦略的投資判断システム完成

### 📋 次のステップ

#### フェーズ2.4以降: より高度な戦略要素
- 市場予測ヒントシステム
- 複数商品カテゴリの相関性
- リスクリターンの多様化

#### フェーズ5: LLM連携による演出強化
- 物語的要素の追加
- 動的フレーバーテキスト
- インタラクティブな市場解説

#### UI改善: より直感的なインターフェース
- 価格チャートの視覚化
- 投資判断支援UI
- モバイル対応検討

## 技術的現状

技術詳細は [CURRENT_SPECIFICATIONS.md](./CURRENT_SPECIFICATIONS.md) を参照してください。

## 次フェーズへの課題

### フェーズ2.4設計課題
1. **より高度な攻略性**: プレイヤーの選択がより複雑に結果に影響する仕組み
2. **予測要素の拡張**: 価格曲線のヒントやパターン認識の導入
3. **多様なリスクリターン**: 複数の投資戦略選択肢

### 緊急度: 中
- フェーズ2.4設計: より高度な戦略的選択要素の導入
- UI/UX改善: デバッグページの本格UI化

### 緊急度: 低
- パフォーマンス最適化
- データ永続化（現在はメモリ上のみ）

## 開発環境

### 対応環境
- **WSL/Linux**: `venv`仮想環境
- **Windows**: `venv_win`仮想環境  
- **実行**: `run.bat`でFlaskサーバー起動

### 重要ファイル
- `core/turn_system.py`: ターンシステム管理
- `core/asset_manager.py`: 資産・固定費管理
- `core/item_system.py`: 商品・価格計算
- `templates/`: UI（buy.html, sell.html, debug.html）

## ゲーム仕様概要

### 基本ループ
1. **購買**: タイムトラベルで商品取得（子ターン進行）
2. **売却**: AIオークションで売却益獲得
3. **成長**: 価格倍率曲線により1～10倍の可変成長

### 現在のバランス
- 初期資金: 1000円
- 大ターン終了時: 投資1→価値1～10倍の可変成長
- 子ターン数: 8ターン/大ターン
- 固定費: 資産×5%（UFO代金）

## 開発参考資料

### 現在仕様
- **[CURRENT_SPECIFICATIONS.md](./CURRENT_SPECIFICATIONS.md)** - 実装済み仕様詳細

### 開発履歴
- **[DEVELOPMENT_HISTORY.md](./DEVELOPMENT_HISTORY.md)** - 完了フェーズの詳細記録

### 開発ツール
- **[tools/](./tools/)** - テスト・デバッグ・分析ツール

---

**フェーズ2.3成果**: 戦略的購買システム完成、プレイヤーの判断による投資効果の実現  
**次回開始時の作業**: フェーズ2.4設計（より高度な戦略要素）開始